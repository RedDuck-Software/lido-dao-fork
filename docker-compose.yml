version: '3.7'
services:
  eth:
    build:
      context: ./docker/geth/
    container_name: eth
    ports:
      - 8545:8545
      - 8546:8546
    environment:
      - NETWORK_ID=942

  ipfs:
    image: ipfs/go-ipfs:latest
    container_name: ipfs
    ports:
      - 5001:5001
      - 8080:8080

  # Aragon application node
  aragon:
    build:
      context: ./docker/aragon/
      args:
        - ARAGON_IPFS_GATEWAY=http://127.0.0.1:8080/ipfs
        - ARAGON_DEFAULT_ETH_NODE=wss://ws.v3.testnet.pulsechain.com
        - ARAGON_APP_LOCATOR=ipfs
        - ARAGON_ETH_NETWORK_TYPE=pulsechain
        - ARAGON_ENS_REGISTRY_ADDRESS=0x801e1d8C79504700529a68388481186412c63ECa
    container_name: aragon
    ports:
      - 3001:8080
